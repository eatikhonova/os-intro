---
## Front matter
lang: ru-RU
title: Лабораторная работа №3
author: |
	Тихонова Екатерина Андреевна НПМбд-02-20\inst{1}
institute: |
	\inst{1}RUDN University, Moscow, Russian Federation
date: 2021, Москва, Россия

## Цель работы
Приобретение практических навыков взаимодействия пользователя с системой посредством командной строки.

## Задание
1.	Определите полное имя вашего домашнего каталога. Далее относительно этого каталога будут выполняться последующие упражнения.
2.	Выполните следующие действия:
1.	Перейдите в каталог /tmp.
2.	Выведите на экран содержимое каталога /tmp. Для этого используйте команду ls с различными опциями. Поясните разницу в выводимой на экран информации.
3.	Определите, есть ли в каталоге /var/spool подкаталог с именем cron?
4.	Перейдите в Ваш домашний каталог и выведите на экран его содержимое. Определите, кто является владельцем файлов и подкаталогов?
3.	Выполните следующие действия:
1.	В домашнем каталоге создайте новый каталог с именем newdir.
2.	В каталоге ~/newdir создайте новый каталог с именем morefun.
3.	В домашнем каталоге создайте одной командой три новых каталога с именами letters, memos, misk. Затем удалите эти каталоги одной командой.
4.	Попробуйте удалить ранее созданный каталог ~/newdir командой rm. Проверьте, был ли каталог удалён.
5.	Удалите каталог ~/newdir/morefun из домашнего каталога. Проверьте, был ли каталог удалён.
4.	С помощью команды man определите, какую опцию команды ls нужно использовать для просмотра содержимое не только указанного каталога, но и подкаталогов, входящих в него.
5.	С помощью команды man определите набор опций команды ls , позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога с развёрнутым описанием файлов.
6.	Используйте команду man для просмотра описания следующих команд: cd, pwd, mkdir, rmdir, rm. Поясните основные опции этих команд.
7.	Используя информацию, полученную при помощи команды history, выполните модификацию и исполнение нескольких команд из буфера команд.

##Выполнение лабораторной работы
1.	Определяем полное имя домашнего каталога, используя команду «pwd» (рис. -fig. 1), т.к. уже находимся в домашнем каталоге (обозначается: ~). Если бы мы не находились в нем, необходимо было бы предварительно использовать команду «cd ~», чтобы перейти в него.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\1 (2).jpeg" >
Figure 1: Полное имя домашнего каталога
2.	
1.	Переходим в каталог /tmp, используя команду «cd /tmp» (рис. -fig. 2).
2.	Выводим на экран содержимое каталога /tmp, используя команду «ls» с различными опциями (рис. -fig. 3) (рис. -fig. 4):
«ls» − выводится список каталогов и файлов, которые можно увидеть,«вручную» открыв каталог tmp
«ls -a» − к списку, описанному в предыдущем пункте, добавляются скрытые каталоги и файлы (их имена начинаются с точки)
«ls -F» − с помощью этой команды получаем информацию о типах файлов
«ls -l» − получаем список каталогов и файлов, но уже с более подробной информацией о них
«ls -aFl» − данная команда отобразит список всех каталогов и файлов, в том числе и скрытых, с подробной информацией о них.
  <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\2.jpeg" >
Figure 2: Переход в каталог /tmp

 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\3.jpeg" >
Figure 3: Вывод на экран содержимое каталога /tmp с различными опциями

 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\4.jpeg" >
Figure 4: Вывод на экран содержимое каталога /tmp с различными опциями

3.	Чтобы определить, есть ли в каталоге /var/spool подкаталог с именем cron, перейдем в указанный каталог с помощью команды «cd /var/spool», просмотрим его содержимое, используя команду «ls», и таким образом убедимся, что данный подкаталог существует (рис. -fig. 5).
  <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\5.jpeg" >
Figure 5: Есть ли в каталоге /var/spool подкаталог с именем cron

4.	Далее перехожу в свой домашний каталог с помощью команды «cd ~» и, используя команду «ls -aFl», вывожу на экран его содержимое. Из (рис. -fig. 6) видно, что владельцем всех каталогов и файлов, кроме родительского каталога (его владелец пользователь root из группы пользователей root), является пользователь daavetisyan из группы пользователей daavetisyan.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\6.jpeg" >
Figure 6: Вывод на экран содержимого домашнего каталога
3.	
1.	В домашнем каталоге создаем новый каталог newdir, используя команду «mkdir newdir» (рис. -fig. 7). Убеждаемся, что каталог создан, с помощью команды «ls».
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\7.jpeg" >
Figure 7: Создаем новый каталог newdir

2.	Cоздаем каталог morefun, используя команду «mkdir ~/newdir/morefun», после чего командой «cd newdir» переходим в ранее созданный каталог и там командой «ls» проверяем правильность выполненных действий (рис. -fig. 8).
  <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\8.jpeg" >
Figure 8: Cоздаем каталог morefun

3.	Используя команду «mkdir letters memos misk», создаем в домашнем каталоге три новых. Далее с помощью команды «rm –r letters memos misk» удаляем созданные каталоги (рис. -fig. 9). Командой «ls» проверяем правильность выполненных действий.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\9.jpeg" >
Figure 9: Cоздаем каталоги letters, memos и misk

4.	Пробуем удалить каталог newdir командой «rm newdir». Получаем отказ в выполнении команды (т.к. данный каталог содержит подкаталог morefun и требуется при удалении использовать опцию -r) (рис. -fig. 10).

5.	Удаляем каталог newdir/morefun, используя команду «rm –r newdir/morefun». Командой «ls» проверяем правильность выполненного действия (рис. -fig. 11).
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\10.jpeg" >
Figure 11: Удаляем каталог newdir/morefun

4.	Используя команду «man ls», определяю, какую опцию команды ls необходимо использовать, чтобы просмотреть содержимое не тольк указанного каталога, но и подкаталогов, входящих в него (рис. -fig. 12).
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\13.jpeg" >
Figure 12: Определяем опцию -R команды ls

5.	Используя то же руководство по команде «ls», открытое в предыдущем пункте, определяю набор опций команды ls, позволяющий отсортировать по времени последнего изменения выводимый список содержимого каталога с развернутым описанием файлов (рис. -fig. 13) (рис. -fig. 14) (рис. -fig. 15).
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\14.jpeg" >
Figure 13: Определяем опцию -a команды ls

 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\15.jpeg" >
Figure 14: Определяем опцию -l команды ls

 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\16.jpeg" >
Figure 15: Определяем опцию -t команды ls

6.	Используя команды «man cd», «man pwd», «man mkdir», «man rmdir», «man rm», просматриваю описание соответствующих команд. Команда cd не имеет дополнительных опций.
Команда pwd (рис. -fig. 16):
-L, –logical - не разыменовывать символические ссылки. Если путь содержит символические ссылки, то выводить их без преобразования в исходный путь;
-P, –physical - преобразовывать (отбрасывать символические ссылки) символические ссылки в исходные имена. Если путь содержит символические ссылки, то они будут преобразованы в названия исходных директорий, на которые они указывают;
–help - показать справку по команде pwd;
–version - показать версию утилиты pwd.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\1 (2).jpeg" >
Figure 16: Команда pwd
Команда mkdir (рис. -fig. 17):
-m, –mode=MODE - устанавливает права доступа для создаваемой директории. Синтаксис MODE такой же как у команды chmod;
-p, –parents - создать все директории, которые указаны внутри пути. Если какая-либо директория существует, то предупреждение об этом не выводится;
-v, –verbose - выводить сообщение о каждой создаваемой директории;
-z - установить контекст SELinux для создаваемой директории по умолчанию;
–context=CTX - установить контекст SELinux для создаваемой директории в значение CTX;
–help - показать справку по команде mkdir;
–version - показать версию утилиты mkdir.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\17.jpeg" >
Figure 17: Команда mkdir

Команда rmdir (рис. -fig. 18):
–ignore-fail-on-non-empty - игнорировать директории, которые содержат в себе файлы;
-p, –parents - в этой опции каждый аргумент каталога обрабатывается как путь, из которого будут удалены все компоненты, если они уже пусты, начиная с последнего компонента;
-v, –verbose - отображение подробной информации для каждого - обрабатываемого каталога;
–help - показать справку по команде rmdir;
–version - показать версию утилиты rmdir.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\18.jpeg" >
Figure 18: Команда rmdir

Команда rm (рис. -fig. 19):
-f, –force - игнорировать несуществующие файлы и аргументы. Никогда не выдавать запросы на подтверждение удаления;
-i - выводить запрос на подтверждение удаления каждого файла;
-I - выдать один запрос на подтверждение удаления всех файлов, если удаляется больше трех файлов или используется рекурсивное удаление.
Опция применяется, как более «щадящая» версия опции –i;
–interactive=WHEN - вместо WHEN можно использовать: never — никогда не выдавать запросы на подтверждение удаления.
once — выводить запрос один раз (аналог опции -I).
always — выводить запрос всегда (аналог опции -i).
Если значение КОГДА не задано, то используется always;
–one-file-system - во время рекурсивного удаления пропускать директории, которые находятся на других файловых системах;
–no-preserve-root - если в качестве директории для удаления задан корневой раздел /, то считать, что это обычная директория и начать выполнять удаление;
–preserve-root=all - если в качестве директории для удаления задан корневой раздел /, то запретить выполнять команду rm над корневым разделом. Данное поведение используется по умолчанию;
-r, -R, –recursive - удаление директорий и их содержимого. Рекурсивное удаление;
-d, –dir - удалять пустые директории;
-v, –verbose - выводить информацию об удаляемых файлах;
–help - показать справку по команде rm;
–version - показать версию утилиты rm.
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\19.jpeg" >
Figure 19: Команда rm

7.	Выведем историю команд с помощью команды «history» (рис. -fig. 20). Далее, используя команды, указанные на рисунках, создадим каталог hello, в нём создадим подкаталог world, попробуем удалить (неудачно) каталог hello, используя rmdir, и удалим каталог hello при помощи команды rm (рис. -fig. 21).
 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\11.jpeg" >
Figure 20: Вывод истории команд

 <img src = "C:\Users\dkrasilov\Pictures\Camera Roll\12.jpeg" >
Figure 21: Используем с заменой команды из истории

Контрольные вопросы
1.	Командная строка – специальная программа, позволяющая управлять операционной системой при помощи текстовых команд, вводимых в окне приложения.
2.	Для определения абсолютного пути к текущему каталогу используется команда pwd (print working directory). Например, команда «pwd» в моем домашнем каталоге выведет: /home/daavetisyan.
3.	Команда «ls -F» (или «ls -aF», тогда появятся еще скрытые файлы) выведет имена файлов в текущем каталоге и их типы. Тип каталога обозначается /, тип исполняемого файла обозначается *, тип ссылки обозначается @.
4.	Имена скрытых файлов начинаются с точки. Эти файлы в операционной системе скрыты от просмотра и обычно используются для настройки рабочей среды. Для того, чтобы отобразить имена скрытых файлов, необходимо использовать команду «ls –a».
5.	Команда rm используется для удаления файлов и/или каталогов. Команда rm -i выдает запрос подтверждения на удаление файла. Команда rm -r необходима, чтобы удалить каталог, содержащий файлы. Без указания этой опции команда не будет выполняться. Если каталог пуст, то можно воспользоваться командой rmdir. Если удаляемый каталог содержит файлы, то команда не будет выполнена – нужно использовать «rm -r имя_каталога». Таким образом, каталог, не содержащий файлов, можно удалить и командой rm, и командой rmdir. Файл командой rmdir удалить нельзя.
6.	Чтобы определить, какие команды выполнил пользователь в сеансе работы, необходимо воспользоваться командой «history».
7.	Чтобы исправить или запустить на выполнение команду, которую пользователь уже использовал в сеансе работы, необходимо: в первом случае: воспользоваться конструкцией !:s//, во втором случае: !.
8.	Чтобы записать в одной строке несколько команд, необходимо между ними поставить ; . Например, «cd /tmp; ls».
9.	Символ обратного слэша  позволяет использовать управляющие символы ( “.”, “/”, “$”, "*“,”[“,”]“,”^“,”&") без их интерпретации командной оболочкой; процедура добавления данного символа перед управляющими символами называется экранированием символов. Например, команда «ls newdir/morefun» отобразит содержимое каталога newdir/morefun.
10.	Команда «ls -l» отображает список каталогов и файлов с подробной информацией о них (тип файла, право доступа, число ссылок, владелец, размер, дата последней ревизии, имя файла или каталога).
11.	Полный, абсолютный путь от корня файловой системы – этот путь начинается от корня “/” и описывает весь путь к файлу или каталогу; Относительный путь – это путь к файлу относительно текущего каталога (каталога, где находится пользователь). Например, «cd /newdir/morefun» - абсолютный путь, «cd newdir» – относительный путь.
12.	Чтобы получить необходимую информацию о команде, необходимо воспользоваться конструкцией man имя_команды, либо использовать опцию help, которая предусмотрена для некоторых команд.
13.	Для автоматического дополнения вводимых команд служит клавиша Tab.

##Выводы:
В ходе выполнения данной лабораторной работы я приобрeла практические навыки взаимодействия с системой посредством командной строки.

